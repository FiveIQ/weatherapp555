(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{259:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r.n(a),i=r(55),s=r.n(i),o=r(12),u=r(7),l=r(121),d=r(8),p=r(25),h=r(26),j=r(29),b=r(28),f=r(76),m=r(15),O=r.n(m),v=r(37),y=r(122),g=r.n(y).a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:"15fa71971dd18bcbf15877023a801f54",units:"metric"}}),x=function(e,t){return function(){var r=Object(v.a)(O.a.mark((function r(n){var a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.get("/onecall",{params:{lat:e,lon:t}});case 3:return a=r.sent,n({type:"LIST_FORECAST",payload:a.data.daily}),r.abrupt("return");case 8:return r.prev=8,r.t0=r.catch(0),console.log("Invalid Coordinates"),r.abrupt("return");case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},C=function(e,t){return function(){var r=Object(v.a)(O.a.mark((function r(n){var a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.get("/onecall",{params:{lat:e,lon:t}});case 3:return a=r.sent,console.log(a),n({type:"FETCH_TIMEZONE",payload:a.data.timezone_offset}),r.abrupt("return");case 9:return r.prev=9,r.t0=r.catch(0),console.log("Invalid Coordinates"),r.abrupt("return");case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},w=function(e){return{type:"SET_CURRENTCARD",payload:e}},T=r(14),k=Object(T.a)({basename:"/weatherapp"}),S=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"renderdate",value:function(e){var t=new Date(1e3*(e+this.props.timezone.timezoneoffset)).toUTCString();return String(t).substr(4,13)}},{key:"renderweekday",value:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*(e+this.props.timezone.timezoneoffset)).getUTCDay()]}},{key:"renderimage",value:function(e){return Object(n.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e,"@2x.png"),alt:"weathericon",className:"ui center aligned tiny image"})}},{key:"renderfeelslike",value:function(e){return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{className:"center aligned header",children:"Windchill"}),Object(n.jsxs)("div",{className:"center aligned description",children:["Morn: ",e.morn,String.fromCharCode(176),"C",Object(n.jsx)("br",{}),"Day: ",e.day,String.fromCharCode(176),"C",Object(n.jsx)("br",{}),"Eve: ",e.eve,String.fromCharCode(176),"C",Object(n.jsx)("br",{}),"Night: ",e.night,String.fromCharCode(176),"C"]})]})}},{key:"rendersun",value:function(e,t){var r=this,a=function(e){var t=new Date(1e3*(e+r.props.timezone.timezoneoffset)),n=t.getUTCHours(),a="0"+t.getMinutes(),c="0"+t.getSeconds();return n+":"+a.substr(-2)+":"+c.substr(-2)};return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)("div",{className:"center aligned ui sub header",children:["Sunrise:",Object(n.jsx)("br",{}),a(e),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Sunset:",Object(n.jsx)("br",{}),a(t)]})})}},{key:"rendercards",value:function(){var e=this;return this.props.weatherdata[0]&&this.props.timezone?this.props.weatherdata.map((function(t,r){return r>4?null:Object(n.jsx)(f.a,{to:"/".concat(r),onClick:function(){return e.props.setcurrentcard(r)},className:"".concat("/"+r===k.location.pathname?"black":""," card"),children:Object(n.jsxs)("div",{className:"ui card slide masked reveal",style:{flex:"1"},children:[Object(n.jsxs)("div",{className:"visible content",children:[Object(n.jsx)("div",{className:"center aligned header",children:e.renderweekday(t.dt)}),Object(n.jsx)("div",{className:"center aligned description",children:e.renderdate(t.dt)}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"center aligned",children:e.renderimage(t.weather[0].icon)}),Object(n.jsxs)("h1",{className:"center aligned ui sub header",children:["High: ".concat(t.temp.max).concat(String.fromCharCode(176),"C"),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Low: ".concat(t.temp.min).concat(String.fromCharCode(176),"C")]}),Object(n.jsx)("div",{className:"center aligned description",children:t.weather[0].description})]}),Object(n.jsxs)("div",{className:"hidden content",children:[e.renderfeelslike(t.feels_like),e.rendersun(t.sunrise,t.sunset)]})]})},r)})):null}},{key:"render",value:function(){return Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)("div",{style:{width:"70%"},children:Object(n.jsx)("div",{className:"ui five doubling cards centered",children:this.rendercards()})})})}}]),r}(c.a.Component),N=Object(o.b)((function(e){return{weatherdata:Object.values(e.mainreducer),timezone:e.timezonereducer}}),{fetch5dayforecast:x,fetchtimezone:C,setcurrentcard:w})(S),E=r(274),z=r(266),I=r(267),_=r(268),D=r(275),L=r(270),F=r(272),R=r(273),U=r(271),H=r(269),A=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"utcToDay",value:function(e){return new Date(1e3*(e+this.props.maintimezone.timezoneoffset)).getUTCDay()}},{key:"convert",value:function(e){var t=new Date(1e3*(e+this.props.maintimezone.timezoneoffset));return t.getUTCHours()+("0"+t.getMinutes()).substr(-2)/60}},{key:"rendergraph",value:function(){var e=this;if(!this.props.hourlydata[0])return null;if(!this.props.currentcard.data&&0!==this.props.currentcard.data)return null;if(!this.props.maindays[0])return null;var t=this.props.hourlydata.filter((function(t){return e.utcToDay(t.dt)===e.utcToDay(e.props.maindays[e.props.currentcard.data].dt)}));if("temp"===this.props.currentcard.graph)var r=t.map((function(t){return{time:e.convert(t.dt),temp:t.main.temp}}));else"wind"===this.props.currentcard.graph&&(r=t.map((function(t){return{time:e.convert(t.dt),temp:t.wind.speed}})));var a=60,c=80,i=1e3-c-80,s=400-a-60,o=function(e){return new Date(e.time)},u=function(e){return e.temp},l=Object(E.a)({range:[0,i],domain:Object(z.a)(r,o)}),d=Object(E.a)({range:[s,0],domain:[Object(I.a)(r,u),Object(_.a)(r,u)]});return Object(n.jsx)(H.a,{width:1e3,height:400,children:Object(n.jsxs)(L.a,{top:a,left:c,children:[Object(n.jsx)(U.a,{from:"#fbc2eb",to:"#a6c1ee",id:"gradient"}),Object(n.jsx)(F.a,{scale:d,top:0,left:0,label:"temp"===this.props.currentcard.graph?"Temp ".concat(String.fromCharCode(176),"C"):"Wind (Km)",stroke:"#1b1a1e",tickTextFill:"#1b1a1e"}),Object(n.jsx)(R.a,{scale:l,top:s,label:"Hour of the Day",stroke:"#1b1a1e",tickTextFill:"#1b1a1e"}),Object(n.jsx)(D.a,{data:r,x:function(e){return l(o(e))},y:function(e){return d(u(e))},yScale:d,fill:"url(#gradient)",stroke:"black"})]})})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)("div",{style:{width:"70%"},children:this.rendergraph()})}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsxs)("div",{style:{width:"40%"},className:"two ui buttons",children:[Object(n.jsx)("button",{onClick:function(){return e.props.setgraph("temp")},className:"ui button ".concat("temp"===this.props.currentcard.graph?"active":""),children:"Temp"}),Object(n.jsx)("button",{onClick:function(){return e.props.setgraph("wind")},className:"ui button ".concat("wind"===this.props.currentcard.graph?"active":""),children:"Wind"})]})}),Object(n.jsx)("div",{style:{height:"50px"}})]})}}]),r}(c.a.Component),M=Object(o.b)((function(e){return{hourlydata:Object.values(e.hourlyreducer),maindays:Object.values(e.mainreducer),maintimezone:e.timezonereducer,currentcard:e.currentcardreducer}}),{setgraph:function(e){return{type:"SET_GRAPH",payload:e}}})(A),W=r(16),K=r(277),P=r(276),G=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(p.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).renderInput=function(t){var r="field ".concat(t.meta.error&&t.meta.touched?"error":"");return Object(n.jsxs)("div",{className:r,children:[Object(n.jsx)("label",{children:t.label}),Object(n.jsx)("input",Object(W.a)(Object(W.a)({},t.input),{},{autoComplete:"off"})),e.renderError(t.meta)]})},e.onSubmit=function(t){e.props.fetchhourly(t.latitude,t.longitude),e.props.fetch5dayforecast(t.latitude,t.longitude),e.props.fetchlocation(t.latitude,t.longitude),e.props.fetchtimezone(t.latitude,t.longitude),e.props.currentdetails(t.latitude,t.longitude)},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.props.fetch5dayforecast(40.7128,-74.006),this.props.fetchlocation(40.7128,-74.006),this.props.fetchtimezone(40.7128,-74.006),this.props.currentdetails(40.7128,-74.006),this.props.fetchhourly(40.7128,-74.006),k.location.pathname[1]||k.push("/0"),this.props.setcurrentcard(k.location.pathname[1])}},{key:"renderError",value:function(e){if(e.touched&&e.error)return Object(n.jsx)("div",{className:"ui error message",children:Object(n.jsx)("div",{className:"header",children:e.error})})}},{key:"render",value:function(){return Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error",style:{width:"60%"},children:[Object(n.jsxs)("div",{className:"two fields",children:[Object(n.jsx)(K.a,{name:"latitude",component:this.renderInput,label:"Enter Latitude"}),Object(n.jsx)(K.a,{name:"longitude",component:this.renderInput,label:"Enter Longitude"})]}),Object(n.jsx)("button",{className:"ui button secondary fluid",children:"Submit"})]})})}}]),r}(c.a.Component),J=Object(P.a)({form:"streamForm",validate:function(e){var t={};return e.longitude>180&&(t.longitude="Invalid Longitude"),e.latitude>90&&(t.latitude="Invalid Latitude"),e.longitude<-180&&(t.longitude="Invalid Longitude"),e.latitude<-90&&(t.latitude="Invalid Latitude"),e.longitude&&isNaN(e.longitude)&&(t.longitude="Invalid Longitude"),e.latitude&&isNaN(e.latitude)&&(t.latitude="Invalid Latitude"),t}})(G),X=Object(o.b)(null,{fetchlocation:function(e,t){return function(){var r=Object(v.a)(O.a.mark((function r(n){var a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.get("/forecast",{params:{lat:e,lon:t}});case 3:return a=r.sent,n({type:"FETCH_LOCATION",payload:a.data.city}),r.abrupt("return");case 8:return r.prev=8,r.t0=r.catch(0),console.log("Invalid Coordinates"),r.abrupt("return");case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},fetch5dayforecast:x,fetchhourly:function(e,t){return function(){var r=Object(v.a)(O.a.mark((function r(n){var a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.get("/forecast",{params:{lat:e,lon:t}});case 3:return a=r.sent,console.log(a),n({type:"LIST_HOURLY",payload:a.data.list}),r.abrupt("return");case 9:return r.prev=9,r.t0=r.catch(0),console.log("Invalid Coordinates"),r.abrupt("return");case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},fetchtimezone:C,currentdetails:function(e,t){return function(){var r=Object(v.a)(O.a.mark((function r(n){var a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.get("/onecall",{params:{lat:e,lon:t}});case 3:return a=r.sent,n({type:"FETCH_CURRENTDETAILS",payload:a.data.current}),r.abrupt("return");case 8:return r.prev=8,r.t0=r.catch(0),console.log("Invalid Coordinates"),r.abrupt("return");case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},setcurrentcard:w})(J),Y=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(){return Object(p.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"renderlocation",value:function(){return this.props.location.location?this.props.location.location.name?Object(n.jsx)("h1",{children:"".concat(this.props.location.location.name,", ").concat(this.props.location.location.country)}):Object(n.jsx)("h1",{children:"Unknown"}):null}},{key:"convert",value:function(e){var t=new Date(1e3*(e+this.props.timezone.timezoneoffset)),r=t.getUTCHours(),n="0"+t.getMinutes();return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getUTCDay()]+" "+r+":"+n.substr(-2)}},{key:"renderdetails",value:function(){return this.props.current.current?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)("h3",{children:this.convert(this.props.current.current.dt)})}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(this.props.current.current.weather[0].icon,"@2x.png"),alt:"weathericon",className:"ui image"})}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)("h3",{children:"".concat(this.props.current.current.temp).concat(String.fromCharCode(176),"C  ||  Windchill: ").concat(this.props.current.current.feels_like).concat(String.fromCharCode(176),"C")})})]}):null}},{key:"render",value:function(){return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:this.renderlocation()}),this.renderdetails()]})}}]),r}(c.a.Component),Z=Object(o.b)((function(e){return{location:e.locationreducer,timezone:e.timezonereducer,current:e.currentdetailsreducer}}),null)(Y),q=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(d.a,{history:k,children:[Object(n.jsx)("br",{}),Object(n.jsx)(Z,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(X,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(N,{}),Object(n.jsx)("br",{}),Object(n.jsx)(M,{})]})})},V=r(278),B=r(84),Q=r.n(B),$=Object(u.c)({mainreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_FORECAST":return Object(W.a)({},Q.a.mapKeys(t.payload,"dt"));default:return e}},hourlyreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_HOURLY":return Object(W.a)({},Q.a.mapKeys(t.payload,"dt"));default:return e}},form:V.a,locationreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION":return Object(W.a)(Object(W.a)({},e),{},{location:t.payload});default:return e}},timezonereducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TIMEZONE":return Object(W.a)(Object(W.a)({},e),{},{timezoneoffset:t.payload});default:return e}},currentcardreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{graph:"temp"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENTCARD":return Object(W.a)(Object(W.a)({},e),{},{data:t.payload});case"SET_GRAPH":return Object(W.a)(Object(W.a)({},e),{},{graph:t.payload});default:return e}},currentdetailsreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENTDETAILS":return{current:t.payload};default:return e}}}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,te=Object(u.e)($,ee(Object(u.a)(l.a)));s.a.render(Object(n.jsx)(o.a,{store:te,children:Object(n.jsx)(q,{})}),document.querySelector("#root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.67b13762.chunk.js.map